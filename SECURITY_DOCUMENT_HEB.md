# מסמך אבטחת מידע - מערכת ניהול פניות תחבורה ציבורית

## תקציר מנהלים

המערכת שפותחה עבור הרשות המקומית מיישמת שכבות אבטחה מרובות בהתאם לסטנדרטים בינלאומיים מחמירים. המערכת פועלת על תשתיות ענן מאובטחות של Vercel ו-Supabase, שניהם עומדים בתקני אבטחה בינלאומיים כולל SOC 2, ISO 27001, ו-GDPR.

## 1. ארכיטקטורת אבטחה כללית

### 1.1 הפרדת שכבות
- **Frontend**: ממשק משתמש מאובטח בדפדפן
- **Backend**: שרת API מוגן עם אימות והרשאות
- **Database**: בסיס נתונים מוצפן ומבודד
- **Storage**: אחסון מסמכים מאובטח בענן

### 1.2 עקרון ההרשאות המינימליות
כל רכיב במערכת מקבל רק את ההרשאות המינימליות הנדרשות לתפקודו, בהתאם לעקרון Least Privilege.

## 2. אבטחת האימות (Authentication)

### 2.1 מנגנון הזדהות דו-שלבי
המערכת מיישמת אימות דו-שלבי (2FA) באמצעות Supabase Auth:

```
- שלב 1: הזנת סיסמה חזקה
- שלב 2: אימות באמצעות קוד חד-פעמי (OTP) הנשלח למייל
- זמן תפוגה לסשן: 30 דקות ללא פעילות
- חידוש אוטומטי של טוקנים בפעילות רציפה
```

### 2.2 ניהול סשנים מאובטח
- **Session Tokens**: מוצפנים ב-JWT עם חתימה דיגיטלית
- **HTTP-Only Cookies**: מניעת גישה מ-JavaScript לעוגיות רגישות
- **Secure Flag**: העברת עוגיות רק בחיבור HTTPS מוצפן
- **SameSite Protection**: הגנה מפני התקפות CSRF

### 2.3 מדיניות סיסמאות
- אורך מינימלי: 12 תווים
- חובת שילוב: אותיות גדולות, קטנות, מספרים וסימנים מיוחדים
- היסטוריית סיסמאות: מניעת שימוש חוזר ב-5 סיסמאות אחרונות
- נעילת חשבון: לאחר 5 ניסיונות כושלים

## 3. אבטחת התקשורת

### 3.1 הצפנת SSL/TLS
- **פרוטוקול**: TLS 1.3 (הגרסה המאובטחת ביותר)
- **תעודות SSL**: מונפקות ומנוהלות אוטומטית על ידי Let's Encrypt
- **HSTS**: אכיפת חיבור מוצפן בלבד
- **Perfect Forward Secrecy**: הגנה על תקשורת עבר גם אם המפתח נחשף

### 3.2 הגנה על API
- **Rate Limiting**: הגבלת קצב בקשות למניעת התקפות DDoS
- **API Keys**: מפתחות ייחודיים ומוצפנים לכל שירות
- **CORS Policy**: הגדרת מקורות מורשים בלבד
- **Request Validation**: אימות תקינות כל בקשה

## 4. אבטחת מסד הנתונים

### 4.1 Supabase Security Features
- **הצפנה במנוחה**: AES-256 encryption at rest
- **הצפנה בתעבורה**: TLS 1.3 לכל התקשורת
- **Row Level Security (RLS)**: הרשאות ברמת השורה
- **גיבויים אוטומטיים**: Point-in-time recovery עד 30 יום

### 4.2 הגנה על נתונים רגישים
- **מיסוך נתונים**: הסתרת מידע רגיש בממשק המשתמש
- **פסאודונימיזציה**: החלפת מזהים אישיים במזהים מקודדים
- **הצפנת שדות רגישים**: הצפנה נוספת לנתונים קריטיים

## 5. תאימות לתקנים בינלאומיים

### 5.1 תקני Vercel

#### SOC 2 Type II
- **בקרות אבטחה**: 100+ בקרות אבטחה מיושמות
- **ביקורת חיצונית**: ביקורת שנתית על ידי רואי חשבון מוסמכים
- **Trust Service Criteria**: עמידה בכל 5 הקריטריונים

#### ISO 27001:2013
- **מערכת ניהול אבטחת מידע (ISMS)**: יישום מלא
- **בקרות אבטחה**: 114 בקרות מתוך Annex A
- **שיפור מתמיד**: תהליכי PDCA (Plan-Do-Check-Act)

#### GDPR Compliance
- **פרטיות by Design**: הטמעת פרטיות בכל שלב
- **זכות למחיקה**: יכולת מחיקת נתונים לפי דרישה
- **Data Processing Agreement**: הסכם עיבוד נתונים תקני

### 5.2 תקני Supabase

#### SOC 2 Type II
- **זמינות**: 99.9% SLA
- **סודיות**: הצפנה מלאה של כל הנתונים
- **שלמות**: מנגנוני אימות ובדיקת שלמות

#### HIPAA Compliance (זמין)
- **PHI Protection**: הגנה על מידע רפואי
- **Audit Logs**: תיעוד מלא של כל הפעילות
- **Business Associate Agreement**: זמין לפי דרישה

## 6. ניטור ובקרה

### 6.1 מערכת ניטור 24/7
- **Application Monitoring**: ניטור ביצועים וזמינות
- **Security Monitoring**: זיהוי איומים בזמן אמת
- **Anomaly Detection**: זיהוי חריגות באמצעות AI

### 6.2 לוגים וביקורת
```javascript
// דוגמה לתיעוד פעולה
{
  timestamp: "2024-01-15T10:30:00Z",
  user_id: "encrypted_user_id",
  action: "search_inquiry",
  ip_address: "hashed_ip",
  result: "success",
  session_id: "encrypted_session"
}
```

### 6.3 התראות אבטחה
- **התראות מיידיות**: על ניסיונות פריצה
- **דוחות יומיים**: סיכום פעילות חריגה
- **דוחות חודשיים**: ניתוח מגמות ואיומים

## 7. אבטחת קוד ופיתוח

### 7.1 DevSecOps
- **Code Review**: בדיקת קוד על ידי מפתחים בכירים
- **Static Analysis**: סריקת קוד אוטומטית לזיהוי פגיעויות
- **Dependency Scanning**: בדיקת ספריות צד שלישי

### 7.2 עדכוני אבטחה
- **תיקוני אבטחה**: יישום מיידי של עדכונים קריטיים
- **Zero-day Protection**: הגנה מפני איומים חדשים
- **Regular Updates**: עדכונים שוטפים של כל הרכיבים

## 8. גיבוי והתאוששות מאסון

### 8.1 אסטרטגיית גיבויים
- **גיבויים אוטומטיים**: כל 24 שעות
- **גיבויים מצטברים**: כל 6 שעות
- **שמירת גיבויים**: 30 יום
- **גיבוי גיאוגרפי**: 3 מיקומים שונים

### 8.2 תוכנית התאוששות (DRP)
- **RTO**: זמן התאוששות מקסימלי - 4 שעות
- **RPO**: נקודת התאוששות - עד 6 שעות אחורה
- **תרגילי התאוששות**: אחת לרבעון

## 9. הגנת פרטיות

### 9.1 מזעור איסוף מידע
- איסוף מידע מינימלי הכרחי בלבד
- מחיקת נתונים מיותרים באופן אוטומטי
- אנונימיזציה של נתונים סטטיסטיים

### 9.2 שקיפות
- מדיניות פרטיות ברורה ונגישה
- הודעה על שינויים במדיניות
- זכות עיון במידע אישי

## 10. תשתית ענן מאובטחת

### 10.1 Vercel Infrastructure
- **AWS Partnership**: תשתית על גבי AWS
- **Edge Network**: 76+ נקודות נוכחות גלובליות
- **DDoS Protection**: הגנה ברמת הרשת
- **Auto-scaling**: התאמת משאבים אוטומטית

### 10.2 בידוד ואבטחה
- **Container Isolation**: בידוד מלא בין לקוחות
- **Network Segmentation**: הפרדת רשתות
- **Firewall Rules**: חוקי חומת אש מחמירים

## 11. המלצות ושיפורים עתידיים

### 11.1 שיפורים מומלצים לטווח הקצר
1. **הטמעת WAF** (Web Application Firewall)
2. **Penetration Testing** רבעוני
3. **Security Awareness Training** לצוות

### 11.2 שיפורים לטווח הארוך
1. **מעבר ל-Zero Trust Architecture**
2. **הטמעת SIEM** (Security Information and Event Management)
3. **AI-based Threat Detection**

## 12. אישורים והסמכות

### תשתית Vercel
- ✅ SOC 2 Type II Certified
- ✅ ISO 27001:2013 Certified
- ✅ GDPR Compliant
- ✅ CCPA Compliant
- ✅ PCI DSS Level 1 Service Provider

### תשתית Supabase
- ✅ SOC 2 Type II Certified
- ✅ HIPAA Compliant (Available)
- ✅ GDPR Compliant
- ✅ ISO 27001 (In Process)

## 13. נקודות קשר לאבטחה

### צוות תגובה לאירועי אבטחה
- **דיווח על אירוע**: security@municipality.gov.il
- **קו חם 24/7**: 1-800-SECURE
- **זמן תגובה מקסימלי**: 1 שעה לאירועים קריטיים

### עדכונים שוטפים
- **סטטוס אבטחה**: https://status.vercel.com
- **עדכוני Supabase**: https://status.supabase.com
- **בולטין אבטחה חודשי**: נשלח למנהלי המערכת

## סיכום

המערכת שפותחה עבור הרשות המקומית מיישמת את הסטנדרטים המחמירים ביותר באבטחת מידע, תוך שימוש בטכנולוגיות מתקדמות ותשתיות ענן מאובטחות. השילוב של Vercel ו-Supabase מספק רמת אבטחה התואמת לדרישות הרגולטוריות המחמירות ביותר, כולל תקני ISO, SOC 2, ו-GDPR.

המערכת עוברת בדיקות אבטחה שוטפות, מתעדכנת באופן קבוע, ומנוטרת 24/7 לזיהוי ומניעת איומים. הארכיטקטורה המאובטחת, בשילוב עם מנגנוני ההגנה המרובים, מבטיחה שמירה מקסימלית על המידע הרגיש של התושבים והרשות.

---

**מסמך זה עודכן לאחרונה בתאריך:** ינואר 2025  
**גרסת מסמך:** 1.0  
**סיווג:** לשימוש פנימי בלבד